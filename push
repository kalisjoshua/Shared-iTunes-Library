#push local changes to remote host using [slx]

. ./location

while read line
do
if ping -c 1 -w 1 -q ${line#[^@]*@} </dev/null &>/dev/null; then
  #echo $HOME"/"$loc" "$line":"$loc

  #read in assets file from remote computer
  scp $line":Documents/slx/assets" .assets
  while read item
  do
    src=$HOME"/"$loc$item
    dst=$line":"$loc$item
    rsync -ru $src $dst
  done < .assets

  rm .assets

fi
done < machines
